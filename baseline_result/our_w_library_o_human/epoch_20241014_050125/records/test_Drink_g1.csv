Goal Representation,Debug Result,Action,Add Info,LLM Answer,Plan
"Reset goals: The sub-goals are: 
['1. Locate a source of water.', '2. Fill a cup with water.']",,,,,
" 
behavior __goal__():
    body:
        foreach water_source: item:
            if has_water(water_source) and not visited(water_source):
                observe(water_source, ""Check is this a source of water"")
                achieve visited(water_source)
",From function reset_goal,,,,
"Reset goals: The sub-goals are: 
['1. Locate a source of water, such as a tap or water dispenser.', '2. Fill a cup with water from th
e source.']",,,,,
"
behavior locate_water_source(tap_or_dispenser:item):
    body:
        achieve close_char(char, tap_or_dispenser)

behavior __goal__():
    body:
        foreach obj: item:
            if is_faucet(obj) or is_sink(obj) and not visited(obj):
                observe(obj, ""Locate a source of water, such as a tap or water dispenser"")
                locate_water_source(obj)
",From function reset_goal,,,,
,,,,,"(CrowControllerApplier<walk_executor(sink_42)>, CrowControllerApplier<obs(sink_42, Locate a source o
f water, such as a tap or water dispenser)>, CrowControllerApplier<walk_executor(faucet_43)>, CrowCo
ntrollerApplier<obs(faucet_43, Locate a source of water, such as a tap or water dispenser)>, CrowCon
trollerApplier<walk_executor(sink_231)>, CrowControllerApplier<obs(sink_231, Locate a source of wate
r, such as a tap or water dispenser)>, CrowControllerApplier<walk_executor(faucet_232)>, CrowControl
lerApplier<obs(faucet_232, Locate a source of water, such as a tap or water dispenser)>)"
,,walk_executor(sink_42),"Find cleaning_solution_2073. Find detergent_2084. Find towel_rack_31. Find soap_2053. Find basket_fo
r_clothes_2006. Find towel_rack_34. Find towel_rack_32. Robot is inside bathroom_1. Robot is close b
athroom_counter_41. Robot is close sink_42. ",,
,,"obs(sink_42, Locate a source of water, such as a tap or water dispenser)","Get this information:  cleaning_solution_2073 is on sink_42. detergent_2084 is on sink_42. sink_42 i
s close to floor_2. sink_42 is close to floor_3. sink_42 is close to detergent_2084. sink_42 is clos
e to soap_2053. sink_42 is close to floor_4. sink_42 is close to bathroom_cabinet_40. sink_42 is clo
se to bathroom_counter_41. sink_42 is close to wall_9. sink_42 is close to faucet_43. sink_42 is clo
se to wall_12. sink_42 is close to basket_for_clothes_2006. sink_42 is close to washing_machine_2007
. sink_42 is close to cleaning_solution_2073. sink_42 is close to character_65. soap_2053 is on sink
_42. sink_42 is inside bathroom_1. sink_42 is inside bathroom_counter_41. sink_42 is DIRTY.",,
,,walk_executor(faucet_43),"Robot is inside bathroom_1. Robot is close bathroom_counter_41. Robot is close faucet_43. Robot is n
o longer close sink_42.",,
,,"obs(faucet_43, Locate a source of water, such as a tap or water dispenser)","Get this information:  faucet_43 is close to floor_2. faucet_43 is close to floor_3. faucet_43 is cl
ose to floor_4. faucet_43 is close to bathroom_cabinet_40. faucet_43 is close to bathroom_counter_41
. faucet_43 is close to sink_42. faucet_43 is close to wall_9. faucet_43 is close to wall_12. faucet
_43 is close to ceiling_16. faucet_43 is close to ceiling_21. faucet_43 is close to basket_for_cloth
es_2006. faucet_43 is close to character_65. faucet_43 is on bathroom_counter_41. faucet_43 is insid
e bathroom_1. faucet_43 is CLEAN. faucet_43 is OFF.",,
,,walk_executor(sink_231),"Find soap_2054. Find napkin_2005. Find knife_2050. Find cutting_board_2051. Find cup_2063. Find cup_
2064. Find pot_2069. Find oil_2079. Find fryingpan_2083. Find tray_296. Find drawing_239. Find drawi
ng_238. Find drawing_240. Find drawing_241. Find drawing_242. Find drawing_243. Find plate_1000. Rob
ot is inside dining_room_201. Robot is close kitchen_counter_230. Robot is close sink_231. Robot is 
no longer inside bathroom_1.Robot is no longer close bathroom_counter_41.Robot is no longer close fa
ucet_43.",,
,,"obs(sink_231, Locate a source of water, such as a tap or water dispenser)","Get this information:  sink_231 is inside dining_room_201. sink_231 is inside kitchen_counter_230. s
oap_2054 is on sink_231. plate_1000 is on sink_231. sink_231 is close to soap_2054. sink_231 is clos
e to floor_7. sink_231 is close to wall_11. sink_231 is close to wall_15. sink_231 is close to coffe
_maker_290. sink_231 is close to toaster_292. sink_231 is close to toilet_37. sink_231 is close to s
hower_36. sink_231 is close to microwave_297. sink_231 is close to floor_202. sink_231 is close to f
loor_203. sink_231 is close to floor_204. sink_231 is close to wall_211. sink_231 is close to wall_2
12. sink_231 is close to cupboard_229. sink_231 is close to kitchen_counter_230. sink_231 is close t
o faucet_232. sink_231 is close to plate_1000. sink_231 is close to dishwasher_1001. sink_231 is clo
se to character_65. sink_231 is DIRTY.",,
,,walk_executor(faucet_232),"Robot is inside dining_room_201. Robot is close kitchen_counter_230. Robot is close faucet_232. Robo
t is no longer close sink_231.",,
,,"obs(faucet_232, Locate a source of water, such as a tap or water dispenser)","Get this information:  faucet_232 is inside dining_room_201. faucet_232 is close to floor_7. faucet_
232 is close to wall_11. faucet_232 is close to wall_15. faucet_232 is close to ceiling_18. faucet_2
32 is close to coffe_maker_290. faucet_232 is close to shower_36. faucet_232 is close to toaster_292
. faucet_232 is close to toilet_37. faucet_232 is close to oven_295. faucet_232 is close to microwav
e_297. faucet_232 is close to floor_202. faucet_232 is close to floor_203. faucet_232 is close to fl
oor_204. faucet_232 is close to wall_211. faucet_232 is close to wall_212. faucet_232 is close to ce
iling_216. faucet_232 is close to ceiling_221. faucet_232 is close to cupboard_229. faucet_232 is cl
ose to kitchen_counter_230. faucet_232 is close to sink_231. faucet_232 is close to character_65. fa
ucet_232 is on kitchen_counter_230. faucet_232 is facing drawing_238. faucet_232 is facing drawing_2
39. faucet_232 is facing drawing_240. faucet_232 is facing drawing_241. faucet_232 is facing drawing
_242. faucet_232 is facing drawing_243. faucet_232 is CLEAN. faucet_232 is OFF.",,
" 
def is_water_source_clean(faucet:item):
    # Function to check if a faucet is a clean water source
    return clean(faucet)

behavior fill_cup_with_water(cup:item, water_source:item):
    # Define behavior to fill the cup with water from a water source
    body:
        if is_water_source_clean(water_source):
            achieve close_char(char, water_source)
            achieve has_water(cup)

behavior __goal__():
    body:
        bind water_source: item where:
            is_faucet(water_source) and clean(water_source) and is_off(water_source)
        # Select a clean water source that is off
        
        bind cup: item where:
            is_cup(cup)
        # Select a cup
        
        fill_cup_with_water(cup, water_source)
",From function reset_sub_goal,,,,
" 
behavior check_and_fill_cup(cup: item, water_source: item):
    body:
        achieve close_char(char, cup)
        # Move close to the cup
        achieve_once inhand(cup)
        # Temporarily hold the cup to fill it with water
        achieve has_water(cup)
        # Ensure the cup has water

behavior __goal__():
    body:
        bind cup: item where:
            is_cup(cup) and id[cup]==2063
        # Bind to a specific cup with ID 2063

        bind faucet: item where:
            is_faucet(faucet) and close(faucet, cup)
        # Bind to the closest faucet to the cup

        check_and_fill_cup(cup, faucet)
        # Invoke behavior to fill the cup with water from the faucet
",From function reset_sub_goal,,,,
"behavior fill_cup_with_water(cup:item, faucet:item):
    body:
        # Ensuring the cup is positioned near the faucet
        achieve close(cup, faucet)
        # Turn the faucet on to fill the cup
        achieve_once is_on(faucet)
        # Use the predefined behavior to fill the cup with water
        check_and_fill_cup(cup, faucet)
        # Turn the faucet off after filling the cup
        achieve_once is_off(faucet)

behavior __goal__():
    body:
        bind faucet: item where:
            is_faucet(faucet) and close_char(char, faucet) and clean(faucet)
        # Identifying a clean faucet that is close to character
        
        bind cup: item where:
            is_cup(cup) and close_char(char, cup)
        # Identifying a close cup to the character
        
        fill_cup_with_water(cup, faucet)",From function reset_sub_goal,,,,
