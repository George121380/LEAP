Goal Representation,Debug Result,Action,Add Info,LLM Answer,Plan
k1,"missed actions: walk_executor(book_2066);grab_executor(book_2066);walk_executor(coffee_table_2068);p
ut_executor(book_2066, coffee_table_2068);",,,,
k2,missed actions: walk_executor(light_169);switchon_executor(light_169);,,,,
"Reset goals: The sub-goals are: 
['1. Find the book and put it on the table in the bedroom.', '2. Turn on the light in the bedroom.']",,,,,
" 
behavior put_book_on_table(book:item, table:item):
    # Define the behavior to place a book on a table
    body:
        achieve on(book, table) 

behavior __goal__():
    body:
        bind book: item where:
            is_book(book)
        # Bind the book item to the variable
        
        bind bedroom: item where:
            is_bedroom(bedroom)
        # Bind the bedroom to the variable

        foreach table: item:
            if is_table(table) and inside(table, bedroom):
                put_book_on_table(book, table)
                # Attempt to find a table within the bedroom and place the book on it
",From function reset_goal,,,,
,,,,"Record from func query_human in agent.py
Question: Can you tell me how to find the book and put it on the table in the bedroom.
Answer: The book is on the bookshelf in the bedroom.
",
,,,,"Record from func query_human in agent.py
Question: Can you tell me how to turn on the light in the bedroom.
Answer: I don't know.
",
"Reset goals: The sub-goals are: 
['1. Find the book and put it on the table in the bedroom.', '2. Turn on the light in the bedroom.']",,,,,
" 
behavior find_book_and_put_on_table(book:item, table:item, bedroom:item):
    body:
        achieve inside(book, bedroom)
        achieve inside(table, bedroom)
        achieve on(book, table)

behavior __goal__():
    body:
        bind book: item where:
            is_book(book)
        bind bedroom: item where:
            is_bedroom(bedroom)
        foreach table: item:
            if is_table(table) and inside(table, bedroom):
                find_book_and_put_on_table(book, table, bedroom)
",From function reset_goal,,,,
"Reset goals: The sub-goals are: 
['1. Find the book and put it on the table in the bedroom.', '2. Turn on the light in the bedroom.']",,,,,
" 
def in_bedroom(table:item):
    # Function to check if a table is in the bedroom
    symbol in_bedroom=exists room: item : is_bedroom(room) and inside(table, room)
    return in_bedroom

behavior put_on_table(book:item, table:item):
    body:
        achieve on(book, table) # Place the book on the table

behavior observe_unvisited_books():
    body:
        foreach book: item:
            if is_book(book) and not visited(book):
                observe(book, ""Check if its the target book"")

behavior __goal__():
    body:
        bind book: item where:
            is_book(book)
        observe_unvisited_books()

        if exists table: item : is_table(table) and in_bedroom(table):
            bind table: item where:
                is_table(table) and in_bedroom(table)
            put_on_table(book, table)
        else:
            foreach table: item:
                if is_table(table) and not visited(table):
                    observe(table, ""Check if the table is in the bedroom"")
",From function reset_goal,,,,
,,,,,"(CrowControllerApplier<walk_executor(bookshelf_233)>, CrowControllerApplier<open_executor(bookshelf_
233)>, CrowControllerApplier<exp(book_2066, bookshelf_233)>, CrowControllerApplier<walk_executor(boo
k_2066)>, CrowControllerApplier<open_executor(book_2066)>, CrowControllerApplier<obs(book_2066, Chec
k if its the target book)>, CrowControllerApplier<walk_executor(bookshelf_233)>, CrowControllerAppli
er<exp(book_2067, bookshelf_233)>, CrowControllerApplier<walk_executor(book_2067)>, CrowControllerAp
plier<open_executor(book_2067)>, CrowControllerApplier<obs(book_2067, Check if its the target book)>
, CrowControllerApplier<walk_executor(coffee_table_2068)>, CrowControllerApplier<obs(coffee_table_20
68, Check if the table is in the bedroom)>, CrowControllerApplier<walk_executor(table_107)>, CrowCon
trollerApplier<obs(table_107, Check if the table is in the bedroom)>, CrowControllerApplier<walk_exe
cutor(table_226)>, CrowControllerApplier<obs(table_226, Check if the table is in the bedroom)>, Crow
ControllerApplier<walk_executor(table_355)>, CrowControllerApplier<obs(table_355, Check if the table
 is in the bedroom)>)"
,,walk_executor(bookshelf_233),"Find remote_control_2052. Robot is inside dining_room_201. Robot is close remote_control_2052. Robot
 is close bookshelf_233. Robot is close floor_207. Grabbing remote_control_2052 by right hand. Robot
 is on couch_352. Grabbing remote_control_2052 by left hand. Robot is no longer inside bathroom_1.",,
Checking k1,Evaluator failed to find a plan,,,,
" 
def in_bedroom(table: item):
    # Function to check if a table is in the bedroom
    symbol in_bedroom=exists room: item : is_bedroom(room) and inside(table, room)
    return in_bedroom

behavior place_book_on_table(book: item, table: item):
    body:
        achieve on(book, table) # Place the book on the table

behavior __goal__():
    body:
        bind table: item where:
            is_table(table) and in_bedroom(table)
        # Select a table in the bedroom
        
        bind book: item where:
            is_book(book) and inhand(book)
        # Select a book currently in hand
        
        place_book_on_table(book, table) # Place the book on the table in the bedroom
",From function reset_sub_goal,,,,
Checking k1,Evaluator failed to find a plan,,,,
"Reset goals: The sub-goals are: 
['1. Find the book and put it on the table in the bedroom.', '2. Turn on the light in the bedroom.']",,,,,
"
behavior put_book_on_table(book:item, table:item):
    body:
        achieve on(book, table) # Place the book on the table

behavior __goal__():
    body:
        bind book: item where:
            is_book(book)
        # Select the book instance
        bind table: item where:
            is_table(table)
        # Select the table instance in the bedroom
        put_book_on_table(book, table)
",From function reset_goal,,,,
,,,,"Record from func query_human in agent.py
Question: Can you teach me how to ""1. find the book and put it on the table in the bedroom."" ?
Answer: Find the book on the bookshelf in the bedroom and put it on the table in the bedroom.
",
" 
def is_book_on_shelf(shelf:item):
    # Check if there is a book on the specified bookshelf
    symbol has_book=exists b: item : is_book(b) and on(b, shelf)
    return has_book

behavior find_and_place_book_on_table(book:item, table:item):
    body:
        achieve on(book, table) # Place the book on the table

behavior __goal__():
    body:
        bind dining_room: item where:
            is_dining_room(dining_room)
        bind bedroom: item where:
            is_bedroom(bedroom)
        bind bookshelf: item where:
            is_bookshelf(bookshelf) and inside(bookshelf, dining_room)
        if is_book_on_shelf(bookshelf):
            bind book: item where:
                is_book(book) and on(book, bookshelf)
            bind table: item where:
                is_table(table) and inside(table, bedroom)
            find_and_place_book_on_table(book, table)
        else:
            foreach shelf: item:
                if is_bookshelf(shelf) and not visited(shelf):
                    observe(shelf, ""Check is there a book on the bookshelf"")
",From function reset_sub_goal,,,,
"Reset goals: The sub-goals are: 
['1. Find the book and put it on the table in the bedroom.', '2. Turn on the light in the bedroom.']",,,,,
" 
def is_bedroom(item: item):
    symbol is_bedroom = exists room: item : is_bedroom(room) and inside(item, room)
    return is_bedroom

behavior move_book_to_bedroom_table(book:item, table:item):
    body:
        achieve on(book, table)
        # Place the book on the table

behavior __goal__():
    body:
        bind book: item where:
            is_book(book)
        # Select the book

        bind table: item where:
            is_table(table) and is_bedroom(table)
        # Select the table in the bedroom

        move_book_to_bedroom_table(book, table)
        # Move the book to the table in the bedroom
",From function reset_goal,,,,
"Reset goals: The sub-goals are: 
['1. Find the book and place it on the table in the bedroom.', '2. Turn on the light in the bedroom.
']",,,,,
" 
def has_book_on_bookshelf(bookshelf:item):
    # Function to check if there is a book on a specified bookshelf
    symbol has_book=exists o: item : is_book(o) and on(o, bookshelf)
    return has_book

behavior __goal__():
    body:
        bind bedroom: item where:
            is_bedroom(bedroom)
        if exists bookshelf: item : is_bookshelf(bookshelf) and has_book_on_bookshelf(bookshelf):
            # Check if there is a bookshelf with a book based on the available information
            bind bookshelf: item where:
                is_bookshelf(bookshelf) and has_book_on_bookshelf(bookshelf) 
            # Select a bookshelf that has a book on it
            achieve inside_char(char, bedroom)
            # Move the character inside the bedroom
            bind book: item where:
                is_book(book) and on(book, bookshelf)
            # Select the book on the bookshelf
            bind table: item where:
                is_table(table) and inside(table, bedroom)
            # Select a table inside the bedroom
            achieve on(book, table)
            # Move the book from the bookshelf to the table

        else:
            # If no bookshelf with a book is found, initiate exploration to locate one
            foreach bookshelf: item:
                if is_bookshelf(bookshelf) and not visited(bookshelf):
                    observe(bookshelf,""Check is there any book on the bookshelf"")
                    # Observe whether each bookshelf has any books

behavior __goal2__():
    body:
        bind bedroom: item where:
            is_bedroom(bedroom)
        bind light: item where:
            is_light(light) and inside(light, bedroom)
        # Select the light inside the bedroom
        achieve is_on(light)
        # Turn on the light in the bedroom
",From function reset_goal,,,,
"Reset goals: The sub-goals are: 
['1. Find the book and put it on the table in the bedroom.', '2. Turn on the light in the bedroom.']",,,,,
" 
behavior __goal__():
    body:
        bind bookshelf: item where:
            is_bookshelf(bookshelf) and id[bookshelf]==233
        # Select the bookshelf with ID 233

        bind book: item where:
            is_book(book)
        # Select the book

        bind bedroom_table: item where:
            is_table(bedroom_table)
        # Select the table in the bedroom

        achieve on(book, bedroom_table)
        # Place the book on the table in the bedroom
",From function reset_goal,,,,
Checking k1,Evaluator failed to find a plan,,,,
Checking k1,Evaluator failed to find a plan,,,,
Checking k2,Evaluator failed to find a plan,,,,
