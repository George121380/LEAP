From agent.py
Reset goals: The sub-goals are: 
['Prepare a cup of water and place it on the nightstand.']
##############################
Goal representation from planning.py

#exp_behavior

behavior find_cup_2087_around_table_193(cup:item):
    goal: not unknown(cup)
    body:
        assert is_cup(cup)
        bind table_instance:item where:
            is_table(table_instance) and id[table_instance]==193
        achieve close_char(char,table_instance)
        if can_open(table_instance):
            achieve_once open(table_instance)
            exp(cup,table_instance)
        else:
            exp(cup,table_instance)
    eff:
        unknown[cup]=False
        close[cup,table_instance]=True
        close[table_instance,cup]=True
    

#exp_behavior_end

#goal_representation
behavior find_cup(cup: item):
    body:
        if visited(cup):
            # If the cup has already been found, ensure the character is close to it
            achieve close_char(char, cup)
        else:
            # If the cup is not found, observe all unvisited cups to locate it
            foreach item: item:
                if is_cup(item) and not visited(item):
                    observe(item, "Locate the cup")

behavior fill_cup_with_water(cup: item):
    body:
        achieve has_water(cup)
        # Fill the cup with water

behavior place_cup_on_nightstand(cup: item, nightstand: item):
    body:
        achieve on(cup, nightstand)
        # Place the cup on the nightstand

behavior __goal__():
    body:
        bind cup: item where:
            is_cup(cup)
        find_cup(cup)
        fill_cup_with_water(cup)

        bind nightstand: item where:
            is_nightstand(nightstand)
        # Select the nightstand

        place_cup_on_nightstand(cup, nightstand)
#goal_representation_end

##############################
From agent.py->reset_goal
behavior find_cup(cup: item):
    body:
        if visited(cup):
            # If the cup has already been found, ensure the character is close to it
            achieve close_char(char, cup)
        else:
            # If the cup is not found, observe all unvisited cups to locate it
            foreach item: item:
                if is_cup(item) and not visited(item):
                    observe(item, "Locate the cup")

behavior fill_cup_with_water(cup: item):
    body:
        achieve has_water(cup)
        # Fill the cup with water

behavior place_cup_on_nightstand(cup: item, nightstand: item):
    body:
        achieve on(cup, nightstand)
        # Place the cup on the nightstand

behavior __goal__():
    body:
        bind cup: item where:
            is_cup(cup)
        find_cup(cup)
        fill_cup_with_water(cup)

        bind nightstand: item where:
            is_nightstand(nightstand)
        # Select the nightstand

        place_cup_on_nightstand(cup, nightstand)
##############################
From agent.py-> find a plan in act()
walk_executor(table_193)exp(cup_2087, table_193)walk_executor(cup_2087)obs(cup_2087, Locate the cup)walk_executor(table_193)exp(cup_2088, table_193)walk_executor(cup_2088)obs(cup_2088, Locate the cup)walk_executor(table_193)exp(cup_2089, table_193)walk_executor(cup_2089)obs(cup_2089, Locate the cup)walk_executor(table_193)exp(cup_2006, table_193)walk_executor(cup_2006)obs(cup_2006, Locate the cup)walk_executor(cup_2087)grab_executor(cup_2087)walk_executor(faucet_134)switchoff_executor(faucet_134)walk_executor(nightstand_262)put_executor(cup_2087, nightstand_262)
##############################
From agent.py
walk_executor(table_193)
Find drawing_196. Find mouse_2112. Find pillow_195. Find mat_201. Find laser_pointer_2025. Find dvd_player_2000. Find oil_2005. Find keyboard_2110. Robot is inside home_office_161. Robot is close table_193. 
##############################
From agent.py
exp(cup_2087, table_193)
Failed to find cup_2087 around table_193. 
##############################
From agent.py-> find a plan in act()
walk_executor(cup_2006)exp(cup_2087, cup_2006)walk_executor(cup_2087)obs(cup_2087, Locate the cup)walk_executor(cup_2006)exp(cup_2088, cup_2006)walk_executor(cup_2088)obs(cup_2088, Locate the cup)walk_executor(cup_2006)exp(cup_2089, cup_2006)walk_executor(cup_2089)obs(cup_2089, Locate the cup)walk_executor(cup_2006)obs(cup_2006, Locate the cup)walk_executor(cup_2087)grab_executor(cup_2087)walk_executor(faucet_134)switchoff_executor(faucet_134)walk_executor(nightstand_262)put_executor(cup_2087, nightstand_262)
##############################
From agent.py
walk_executor(cup_2006)
Robot is inside home_office_161. Robot is close floor_24. Robot is close cup_2006. Robot is no longer close table_193.
##############################
From agent.py
exp(cup_2087, cup_2006)
Failed to find cup_2087 around cup_2006. 
##############################
From agent.py-> find a plan in act()
walk_executor(faucet_134)exp(cup_2087, faucet_134)walk_executor(cup_2087)obs(cup_2087, Locate the cup)walk_executor(faucet_134)exp(cup_2088, faucet_134)walk_executor(cup_2088)obs(cup_2088, Locate the cup)walk_executor(faucet_134)exp(cup_2089, faucet_134)walk_executor(cup_2089)obs(cup_2089, Locate the cup)walk_executor(cup_2006)obs(cup_2006, Locate the cup)walk_executor(cup_2087)grab_executor(cup_2087)walk_executor(faucet_134)switchoff_executor(faucet_134)walk_executor(nightstand_262)put_executor(cup_2087, nightstand_262)
##############################
From agent.py
walk_executor(faucet_134)
Find pot_54. Find tray_142. Robot is inside dining_room_1. Robot is close kitchen_counter_132. Robot is close faucet_134. Robot is no longer inside home_office_161.Robot is no longer close floor_24.Robot is no longer close cup_2006.
##############################
From agent.py
exp(cup_2087, faucet_134)
Failed to find cup_2087 around faucet_134. 
##############################
From agent.py-> find a plan in act()
walk_executor(window_287)exp(cup_2087, window_287)walk_executor(cup_2087)obs(cup_2087, Locate the cup)walk_executor(window_287)exp(cup_2088, window_287)walk_executor(cup_2088)obs(cup_2088, Locate the cup)walk_executor(window_287)exp(cup_2089, window_287)walk_executor(cup_2089)obs(cup_2089, Locate the cup)walk_executor(cup_2006)obs(cup_2006, Locate the cup)walk_executor(cup_2087)grab_executor(cup_2087)walk_executor(faucet_134)switchoff_executor(faucet_134)walk_executor(nightstand_262)put_executor(cup_2087, nightstand_262)
##############################
From agent.py
walk_executor(window_287)
Find basket_for_clothes_2040. Find towel_rack_299. Robot is inside bathroom_265. Robot is close window_287. Robot is no longer inside dining_room_1.Robot is no longer close kitchen_counter_132.Robot is no longer close faucet_134.
##############################
From agent.py
exp(cup_2087, window_287)
Failed to find cup_2087 around window_287. 
##############################
From agent.py-> find a plan in act()
walk_executor(kitchen_counter_128)exp(cup_2087, kitchen_counter_128)walk_executor(cup_2087)obs(cup_2087, Locate the cup)walk_executor(kitchen_counter_128)exp(cup_2088, kitchen_counter_128)walk_executor(cup_2088)obs(cup_2088, Locate the cup)walk_executor(kitchen_counter_128)exp(cup_2089, kitchen_counter_128)walk_executor(cup_2089)obs(cup_2089, Locate the cup)walk_executor(cup_2006)obs(cup_2006, Locate the cup)walk_executor(cup_2087)grab_executor(cup_2087)walk_executor(faucet_134)switchoff_executor(faucet_134)walk_executor(nightstand_262)put_executor(cup_2087, nightstand_262)
##############################
From agent.py
walk_executor(kitchen_counter_128)
Find cutting_board_2080. Find food_orange_2008. Find spectacles_2106. Robot is inside dining_room_1. Robot is close kitchen_counter_128. Robot is close floor_15. Robot is no longer inside bathroom_265.Robot is no longer close window_287.
##############################
From agent.py
exp(cup_2087, kitchen_counter_128)
Failed to find cup_2087 around kitchen_counter_128. 
##############################
From agent.py-> find a plan in act()
walk_executor(kitchen_counter_129)exp(cup_2087, kitchen_counter_129)walk_executor(cup_2087)obs(cup_2087, Locate the cup)walk_executor(kitchen_counter_129)exp(cup_2088, kitchen_counter_129)walk_executor(cup_2088)obs(cup_2088, Locate the cup)walk_executor(kitchen_counter_129)exp(cup_2089, kitchen_counter_129)walk_executor(cup_2089)obs(cup_2089, Locate the cup)walk_executor(cup_2006)obs(cup_2006, Locate the cup)walk_executor(cup_2087)grab_executor(cup_2087)walk_executor(faucet_134)switchoff_executor(faucet_134)walk_executor(nightstand_262)put_executor(cup_2087, nightstand_262)
##############################
From agent.py
walk_executor(kitchen_counter_129)
Find oil_2102. Find pot_2093. Find fryingpan_2107. Robot is inside dining_room_1. Robot is close kitchen_counter_129. Robot is no longer close kitchen_counter_128.Robot is no longer close floor_15.
##############################
From agent.py
Record from func query_LLM_human in agent.py
Question: Can you help me to find cup_2087 ?
Answer: The cup_2087 can be found inside the dining_room_1, placed on top of table_123. Look specifically for table_123 in dining_room_1 to locate the cup.
Re-decompose: None

##############################
From agent.py
Human Instruction: The cup_2087 can be found inside the dining_room_1, placed on top of table_123. Look specifically for table_123 in dining_room_1 to locate the cup.

The actions you have taken:
Action 1: Walk to table_193.
Action 2: look for cup_2087 around table_193.
Action 3: Walk to cup_2006.
Action 4: look for cup_2087 around cup_2006.
Action 5: Walk to faucet_134.
Action 6: look for cup_2087 around faucet_134.
Action 7: Walk to window_287.
Action 8: look for cup_2087 around window_287.
Action 9: Walk to kitchen_counter_128.
Action 10: look for cup_2087 around kitchen_counter_128.
Action 11: Walk to kitchen_counter_129.

##############################
From agent.py
exp(cup_2087, kitchen_counter_129)
Failed to find cup_2087 around kitchen_counter_129. 
##############################
From agent.py-> find a plan in act()
walk_executor(nightstand_262)exp(cup_2087, nightstand_262)walk_executor(cup_2087)obs(cup_2087, Locate the cup)walk_executor(nightstand_262)exp(cup_2088, nightstand_262)walk_executor(cup_2088)obs(cup_2088, Locate the cup)walk_executor(nightstand_262)exp(cup_2089, nightstand_262)walk_executor(cup_2089)obs(cup_2089, Locate the cup)walk_executor(cup_2006)obs(cup_2006, Locate the cup)walk_executor(cup_2087)grab_executor(cup_2087)walk_executor(faucet_134)switchoff_executor(faucet_134)walk_executor(nightstand_262)put_executor(cup_2087, nightstand_262)
##############################
From agent.py
walk_executor(nightstand_262)
Find headset_2086. Find mat_237. Find drawing_238. Find pillow_239. Robot is inside bedroom_220. Robot is close floor_222. Robot is close floor_221. Robot is close nightstand_262. Robot is no longer inside dining_room_1.Robot is no longer close kitchen_counter_129.
##############################
From agent.py
exp(cup_2087, nightstand_262)
Failed to find cup_2087 around nightstand_262. 
##############################
From agent.py
Reset goals: The sub-goals are: 
['Prepare a cup of water on the nightstand.']
##############################
Goal representation from planning.py

#exp_behavior

behavior find_cup_2087_around_table_123(cup:item):
    goal: not unknown(cup)
    body:
        assert is_cup(cup)
        bind table_instance:item where:
            is_table(table_instance) and id[table_instance]==123
        achieve close_char(char,table_instance)
        if can_open(table_instance):
            achieve_once open(table_instance)
            exp(cup,table_instance)
        else:
            exp(cup,table_instance)
    eff:
        unknown[cup]=False
        close[cup,table_instance]=True
        close[table_instance,cup]=True
    

behavior find_cup_2089_around_table_123(cup:item):
    goal: not unknown(cup)
    body:
        assert is_cup(cup)
        bind table_instance:item where:
            is_table(table_instance) and id[table_instance]==123
        achieve close_char(char,table_instance)
        if can_open(table_instance):
            achieve_once open(table_instance)
            exp(cup,table_instance)
        else:
            exp(cup,table_instance)
    eff:
        unknown[cup]=False
        close[cup,table_instance]=True
        close[table_instance,cup]=True
    

#exp_behavior_end

#goal_representation
 
def is_cup_on_table(cup: item, table: item):
    # Function to check if the specified cup is on the specified table
    symbol is_on_table = on(cup, table)
    return is_on_table

def is_cup_2087_in_dining_room_table(dining_room: item, cup: item):
    # Function to verify if cup_2087 is on the table in the dining room
    symbol in_dining_room_table = exists table: item : is_table(table) and inside(table, dining_room) and is_cup_on_table(cup, table)
    return in_dining_room_table

behavior find_cup_2087(dining_room: item, cup_2087: item):
    body:
        if is_cup_2087_in_dining_room_table(dining_room, cup_2087):
            # If cup_2087 is on a table in the dining room, achieve proximity
            bind table: item where:
                is_table(table) and inside(table, dining_room) and is_cup_on_table(cup_2087, table)
            achieve close_char(char, table)

        else:
            # If not found, observe all tables in the dining room
            foreach table: item:
                if is_table(table) and inside(table, dining_room) and not visited(table):
                    observe(table, "Locate cup_2087 on the table")

behavior place_cup_on_nightstand(cup: item, nightstand: item):
    body:
        achieve on(cup, nightstand)
        # Place the cup on the nightstand

behavior __goal__():
    body:
        bind cup_2087: item where:
            is_cup(cup_2087) and id[cup_2087] == 2087
        # Select cup_2087

        bind dining_room: item where:
            is_dining_room(dining_room)
        # Select the dining room

        find_cup_2087(dining_room, cup_2087)
        # Locate cup_2087

        bind nightstand: item where:
            is_nightstand(nightstand) and id[nightstand] == 262
        # Select the nightstand with ID 262

        place_cup_on_nightstand(cup_2087, nightstand)
        # Place cup_2087 on the nightstand

#goal_representation_end

##############################
From agent.py->reset_goal
 
def is_cup_on_table(cup: item, table: item):
    # Function to check if the specified cup is on the specified table
    symbol is_on_table = on(cup, table)
    return is_on_table

def is_cup_2087_in_dining_room_table(dining_room: item, cup: item):
    # Function to verify if cup_2087 is on the table in the dining room
    symbol in_dining_room_table = exists table: item : is_table(table) and inside(table, dining_room) and is_cup_on_table(cup, table)
    return in_dining_room_table

behavior find_cup_2087(dining_room: item, cup_2087: item):
    body:
        if is_cup_2087_in_dining_room_table(dining_room, cup_2087):
            # If cup_2087 is on a table in the dining room, achieve proximity
            bind table: item where:
                is_table(table) and inside(table, dining_room) and is_cup_on_table(cup_2087, table)
            achieve close_char(char, table)

        else:
            # If not found, observe all tables in the dining room
            foreach table: item:
                if is_table(table) and inside(table, dining_room) and not visited(table):
                    observe(table, "Locate cup_2087 on the table")

behavior place_cup_on_nightstand(cup: item, nightstand: item):
    body:
        achieve on(cup, nightstand)
        # Place the cup on the nightstand

behavior __goal__():
    body:
        bind cup_2087: item where:
            is_cup(cup_2087) and id[cup_2087] == 2087
        # Select cup_2087

        bind dining_room: item where:
            is_dining_room(dining_room)
        # Select the dining room

        find_cup_2087(dining_room, cup_2087)
        # Locate cup_2087

        bind nightstand: item where:
            is_nightstand(nightstand) and id[nightstand] == 262
        # Select the nightstand with ID 262

        place_cup_on_nightstand(cup_2087, nightstand)
        # Place cup_2087 on the nightstand

##############################
From agent.py-> find a plan in act()
walk_executor(table_123)obs(table_123, Locate cup_2087 on the table)walk_executor(table_127)obs(table_127, Locate cup_2087 on the table)walk_executor(table_123)exp(cup_2087, table_123)walk_executor(cup_2087)grab_executor(cup_2087)walk_executor(nightstand_262)put_executor(cup_2087, nightstand_262)
##############################
From agent.py
walk_executor(table_123)
Find mat_114. Find shoes_2001. Find drawing_118. Find fork_2103. Find cup_2087. Find cup_2088. Find bowl_2095. Find mouse_2003. Find homework_2011. Find laptop_2015. Robot is inside dining_room_1. Robot is close floor_17. Robot is close mat_114. Robot is close table_123. Robot is no longer inside bedroom_220.Robot is no longer close floor_221.Robot is no longer close floor_222.Robot is no longer close nightstand_262.
##############################
From agent.py
obs(table_123, Locate cup_2087 on the table)
Get this information:  table_123 is facing drawing_118. fork_2103 is on table_123. table_123 is close to wall_5. table_123 is close to cup_2087. table_123 is close to cup_2088. table_123 is close to ceilinglamp_41. table_123 is close to floor_12. table_123 is close to floor_13. table_123 is close to floor_14. table_123 is close to bowl_2095. table_123 is close to floor_17. table_123 is close to mat_114. table_123 is close to floor_18. table_123 is close to mouse_2003. table_123 is close to fork_2103. table_123 is close to bench_122. table_123 is close to homework_2011. table_123 is close to bench_124. table_123 is close to laptop_2015. table_123 is close to character_219. table_123 is on floor_17. table_123 is on mat_114. bowl_2095 is on table_123. cup_2087 is on table_123. homework_2011 is on table_123. mouse_2003 is on table_123. cup_2088 is on table_123. table_123 is inside dining_room_1. laptop_2015 is on table_123. table_123 is CLEAN.
##############################
From agent.py
walk_executor(table_127)
Find mat_115. Find plate_2105. Find bowl_2097. Find console_2027. Find crayon_2030. Find napkin_2014. Find fork_2104. Find bowl_2096. Robot is inside dining_room_1. Robot is close mat_115. Robot is close floor_20. Robot is close table_127. Robot is no longer close floor_17.Robot is no longer close mat_114.Robot is no longer close table_123.
##############################
From agent.py
obs(table_127, Locate cup_2087 on the table)
Get this information:  plate_2105 is on table_127. bowl_2097 is on table_127. table_127 is inside dining_room_1. console_2027 is on table_127. crayon_2030 is on table_127. napkin_2014 is on table_127. table_127 is facing drawing_118. fork_2104 is on table_127. bowl_2096 is on table_127. table_127 is close to wall_11. table_127 is close to console_2027. table_127 is close to crayon_2030. table_127 is close to bowl_2096. table_127 is close to bowl_2097. table_127 is close to mat_115. table_127 is close to floor_20. table_127 is close to floor_19. table_127 is close to napkin_2014. table_127 is close to floor_23. table_127 is close to fork_2104. table_127 is close to plate_2105. table_127 is close to bench_126. table_127 is close to bench_125. table_127 is close to floor_24. table_127 is close to character_219. table_127 is on mat_115. table_127 is on floor_20. table_127 is CLEAN.
##############################
From agent.py
walk_executor(table_123)
Robot is inside dining_room_1. Robot is close floor_17. Robot is close mat_114. Robot is close table_123. Robot is no longer close mat_115.Robot is no longer close floor_20.Robot is no longer close table_127.
##############################
From agent.py
exp(cup_2087, table_123)
Find cup_2087. 
##############################
From agent.py-> find a plan in act()
walk_executor(cup_2087)grab_executor(cup_2087)walk_executor(nightstand_262)put_executor(cup_2087, nightstand_262)
##############################
From agent.py
walk_executor(cup_2087)
Robot is inside dining_room_1. Robot is close table_123. Robot is close cup_2087. Robot is no longer close floor_17.Robot is no longer close mat_114.
##############################
From agent.py
grab_executor(cup_2087)
Robot is inside dining_room_1. Robot is close table_123. Robot is close cup_2087. Grabbing cup_2087 by right hand. 
##############################
From agent.py
walk_executor(nightstand_262)
Robot is inside bedroom_220. Robot is close cup_2087. Robot is close floor_222. Robot is close floor_221. Robot is close nightstand_262. Robot is no longer inside dining_room_1.Robot is no longer close table_123.
##############################
From agent.py
put_executor(cup_2087, nightstand_262)
Robot is inside bedroom_220. Robot is close cup_2087. Robot is close floor_222. Robot is close floor_221. Robot is close nightstand_262. cup_2087 released by right hand. 
##############################
From evaluation.py
cdl_dataset/dataset/make_up_bed/g3.txt
Checking k1
missed actions: grab_executor(cup_2087);walk_executor(faucet_134);switchoff_executor(faucet_134);walk_executor(nightstand_262);put_executor(cup_2087, nightstand_262);
missed action num: 5
##############################
From evaluation.py
cdl_dataset/dataset/make_up_bed/g3.txt
Checking k1
missed actions: grab_executor(cup_2087);walk_executor(faucet_134);switchoff_executor(faucet_134);walk_executor(nightstand_262);put_executor(cup_2087, nightstand_262);
missed action num: 5
##############################
